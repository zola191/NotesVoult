Система конфигураций в ASP.NET Core (также применимо и в консольных и десктоп приложениях при использовании  GenericHost

настроить приложение для разных окружений
отдельно developer, stage
позволяет менять настройки приложения без перекомпиляции
базовые элементы конфигурации
appsettings.json
в ASP dotnet Core configuration api

фактически вся конфигурации состоит из пары ключе значение
универсальный доступ через IConfiguration
IConfiguration доступен в любом месте приложения
пример
```csharp
var builder = WebApplication.CreateBuilder(args);
IConfiguration configuration = builder.Configuration;
// Пример чтения настройки
string connectionString = configuration["Database:ConnectionString"];
```

есть 4 вариации из коробки в dotnet
1. Провайдер конфигурации из appsettings.json
2. Тоже самое только для xml файлов
3. Провайдер который может вычитывать переменные окружения ASPNETCORE_ENVIRONMENT
4. key vault, 

```csharp
var builder = WebApplication.CreateBuilder(args);
// Добавление источников конфигурации
builder.Configuration
    .AddJsonFile("appsettings.json", optional: true, reloadOnChange: true)
    .AddJsonFile($"appsettings.{builder.Environment.EnvironmentName}.json", optional: true)
    .AddEnvironmentVariables()
    .AddCommandLine(args);

```


```csharp
{
  "Database": {
    "ConnectionString": "Server=localhost;Database=AppDb;Trusted_Connection=True;"
  },
  "ExternalApi": {
    "Url": "https://api.example.com",
    "ApiKey": "default-key"
  }
}
```


```csharp
public class DatabaseSettings
{
    public string ConnectionString { get; set; }
}

public class ApiSettings
{
    public string Url { get; set; }
    public string ApiKey { get; set; }
}

```

```csharp
var builder = WebApplication.CreateBuilder(args);

builder.Configuration
    .AddJsonFile("appsettings.json", optional: true, reloadOnChange: true)
    .AddJsonFile($"appsettings.{builder.Environment.EnvironmentName}.json", optional: true)
    .AddEnvironmentVariables();

builder.Services.Configure<DatabaseSettings>(builder.Configuration.GetSection("Database"));
builder.Services.Configure<ApiSettings>(builder.Configuration.GetSection("ExternalApi"));

var app = builder.Build();
app.MapGet("/", () => "Hello, World!");
app.Run();

```


```csharp
public class DatabaseSettings
{
     public static readonly string SectionName = "Database";
    public string ConnectionString { get; set; }
}

public class ApiSettings
{
    public string Url { get; set; }
    public string ApiKey { get; set; }
}

```


```csharp
public class SettingsController : ControllerBase
{
    private readonly DatabaseSettings _dbSettings;
    private readonly ApiSettings _apiSettings;

    public SettingsController(IOptions<DatabaseSettings> dbOptions, IOptions<ApiSettings> apiOptions)
    {
        _dbSettings = dbOptions.Value;
        _apiSettings = apiOptions.Value;
    }

    [HttpGet("settings")]
    public IActionResult GetSettings()
    {
        return Ok(new
        {
            Database = _dbSettings.ConnectionString,
            Api = _apiSettings.Url
        });
    }
}

```

```csharp
Options.Create(new DatabaseSettings())
```